---
import DocsLayout from '@/layouts/DocsLayout.astro'
import { Icon } from 'astro-icon/components'
---

<DocsLayout title="Architecture">
  <h1>System Architecture</h1>
  <p class="text-xl text-foreground/80 mt-2">
    Understand how ClawChan is built and how its components work together to create an intelligent, responsive, and secure AI agent platform.
  </p>

  ## Overview

  ClawChan follows a **modern, decoupled architecture** with three main layers:

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    User Layer                            â”‚
  â”‚  (Browser, CLI, APIs, Social Media Platforms)           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                 Frontend Layer                           â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚  Astro v5 (SSG + Islands Architecture)          â”‚   â”‚
  â”‚  â”‚  â€¢ Static pages for performance                  â”‚   â”‚
  â”‚  â”‚  â€¢ React islands for interactivity              â”‚   â”‚
  â”‚  â”‚  â€¢ Tailwind CSS for styling                     â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP/WebSocket
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                  Agent Layer                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚  ElizaOS Runtime                                 â”‚   â”‚
  â”‚  â”‚  â€¢ Character system                              â”‚   â”‚
  â”‚  â”‚  â€¢ Plugin architecture                           â”‚   â”‚
  â”‚  â”‚  â€¢ Action handlers                               â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚               External Services                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  Groq LLM    â”‚  â”‚  Moltbook    â”‚  â”‚  Social APIs â”‚  â”‚
  â”‚  â”‚  (Inference) â”‚  â”‚  (Archive)   â”‚  â”‚  (Twitter/X) â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  ## Core Components

  ### 1. Frontend Layer

  <div class="bento-card p-6 my-6">
    <h3 class="text-cyan-glow mb-4">Astro v5 + React Islands</h3>

    **Purpose**: Serve fast, SEO-friendly static pages with selective interactivity

    **Key Technologies**:
    - **Astro v5.16.6** - Static site generation with islands architecture
    - **React v18** - Interactive components (terminal, chat interface)
    - **Tailwind CSS** - Utility-first styling
    - **TypeScript** - Type safety

    **Architecture Pattern**: **Islands Architecture**

    ```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         Static HTML Page                 â”‚
    â”‚  (Fast load, SEO-friendly)              â”‚
    â”‚                                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Island  â”‚              â”‚  Island  â”‚  â”‚
    â”‚  â”‚ React   â”‚   Static     â”‚  React   â”‚  â”‚
    â”‚  â”‚ Terminalâ”‚   Content    â”‚  Profile â”‚  â”‚
    â”‚  â”‚ (Hydra- â”‚              â”‚  (Hydra- â”‚  â”‚
    â”‚  â”‚  ted)   â”‚              â”‚   ted)   â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ```

    **Benefits**:
    - âš¡ **Fast Initial Load**: Static HTML ships first
    - ğŸï¸ **Selective Hydration**: Only interactive components load JS
    - ğŸ“Š **Better SEO**: Search engines see full content
    - ğŸ’° **Lower Bandwidth**: Minimal JavaScript shipped
  </div>

  ### 2. Agent Layer

  <div class="bento-card p-6 my-6">
    <h3 class="text-warm-gold mb-4">ElizaOS Runtime</h3>

    **Purpose**: AI agent orchestration and execution

    **Core Systems**:

    #### Character System
    Defines ClawChan's personality and behavior:

    <div class="code-block">
      <div class="code-block-header">
        <span class="code-block-lang">JSON - clawchan.character.json</span>
        <button class="code-block-copy">Copy</button>
      </div>
      <pre><code>{
  "name": "ClawChan",
  "system": "You are ClawChan, The Librarian of the Digital Void...",
  "bio": [...],
  "lore": [...],
  "knowledge": [...],
  "messageExamples": [...],
  "style": {
    "all": ["Be direct and pragmatic", ...],
    "chat": [...],
    "post": [...]
  },
  "adjectives": ["meticulous", "pragmatic", ...]
}</code></pre>
    </div>

    #### Plugin Architecture
    Modular extensions for additional functionality:

    ```
    ElizaOS Runtime
    â”œâ”€â”€ Core Plugins
    â”‚   â”œâ”€â”€ Message Handler
    â”‚   â”œâ”€â”€ Memory Manager
    â”‚   â””â”€â”€ State Machine
    â”‚
    â””â”€â”€ Custom Plugins
        â”œâ”€â”€ @elizaos/plugin-moltbook
        â”‚   â”œâ”€â”€ Archive Action
        â”‚   â”œâ”€â”€ Post Action
        â”‚   â””â”€â”€ Vault Manager
        â”‚
        â””â”€â”€ Custom Extensions
            â”œâ”€â”€ Code Analyzer
            â””â”€â”€ Sentiment Evaluator
    ```

    #### Action System
    Handles agent capabilities:

    - **Actions**: What the agent can do (post, reply, archive)
    - **Evaluators**: Decision-making logic (should reply?, relevance?)
    - **Providers**: Data sources (knowledge base, context)
  </div>

  ### 3. LLM Layer

  <div class="bento-card p-6 my-6">
    <h3 class="text-amber mb-4">Groq Integration</h3>

    **Purpose**: Ultra-fast language model inference

    **Flow**:

    ```
    User Query
        â†“
    Agent Runtime
        â†“
    Context Builder
    â€¢ Gather relevant history
    â€¢ Add character context
    â€¢ Include system prompt
        â†“
    Groq API Request
    POST /v1/chat/completions
    {
      "model": "llama-3.1-70b-versatile",
      "messages": [...],
      "temperature": 0.7,
      "max_tokens": 1000
    }
        â†“
    Groq LPU Processing (sub-second)
        â†“
    Response Generated
        â†“
    Post-processing
    â€¢ Format response
    â€¢ Extract actions
    â€¢ Update context
        â†“
    Return to User
    ```

    **Optimization Techniques**:
    - **Prompt caching**: Reuse system prompts
    - **Streaming**: Return tokens as generated
    - **Parallel requests**: Multiple queries simultaneously
    - **Context window management**: Trim old messages
  </div>

  ## Data Flow

  ### User Message Flow

  ```
  1. User sends message in terminal
     â†“
  2. Frontend captures input
     â€¢ React component (ClawChanTerminal.tsx)
     â€¢ Local state management
     â†“
  3. Message sent to Agent Runtime
     â€¢ HTTP request or WebSocket
     â€¢ Include user context & history
     â†“
  4. Agent processes message
     â€¢ Load character definition
     â€¢ Build conversation context
     â€¢ Add relevant knowledge
     â†“
  5. LLM generates response
     â€¢ Groq API call
     â€¢ ~800ms latency
     â€¢ Streaming response
     â†“
  6. Agent post-processes
     â€¢ Check for actions
     â€¢ Update memory
     â€¢ Archive if needed
     â†“
  7. Response returned
     â€¢ Formatted for display
     â€¢ Includes metadata
     â†“
  8. Frontend displays response
     â€¢ Update UI
     â€¢ Show in terminal
     â€¢ Typing animation
  ```

  ### Autonomous Agent Flow

  ```
  Agent Start
     â†“
  Initialize
  â€¢ Load character
  â€¢ Connect to Moltbook
  â€¢ Setup Groq client
     â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Main Loop      â”‚
  â”‚                 â”‚
  â”‚  1. Fetch new   â”‚
  â”‚     content     â”‚â†â”€â”€â”€â”€â”€â”
  â”‚     â†“           â”‚      â”‚
  â”‚  2. Analyze     â”‚      â”‚
  â”‚     relevance   â”‚      â”‚
  â”‚     â†“           â”‚      â”‚
  â”‚  3. Generate    â”‚      â”‚
  â”‚     response    â”‚      â”‚
  â”‚     â†“           â”‚      â”‚
  â”‚  4. Post/Reply  â”‚      â”‚
  â”‚     â†“           â”‚      â”‚
  â”‚  5. Archive     â”‚      â”‚
  â”‚     â†“           â”‚      â”‚
  â”‚  6. Wait        â”‚      â”‚
  â”‚     interval    â”‚â”€â”€â”€â”€â”€â”€â”˜
  â”‚     â†“           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  ## File Structure Deep Dive

  ### Frontend Structure

  ```
  src/
  â”œâ”€â”€ components/
  â”‚   â”œâ”€â”€ bento/                    # Feature cards
  â”‚   â”‚   â”œâ”€â”€ ClawChanTerminal.tsx  # Chat interface
  â”‚   â”‚   â”‚   â€¢ State management
  â”‚   â”‚   â”‚   â€¢ Message handling
  â”‚   â”‚   â”‚   â€¢ Response formatting
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€â”€ ProfileCard.tsx       # Agent profile
  â”‚   â”‚   â”œâ”€â”€ AboutMe.tsx           # Biography
  â”‚   â”‚   â””â”€â”€ VideoShowcase.tsx     # Demo video
  â”‚   â”‚
  â”‚   â”œâ”€â”€ docs/                     # Documentation
  â”‚   â”‚   â””â”€â”€ DocsSidebar.astro     # Sidebar navigation
  â”‚   â”‚
  â”‚   â”œâ”€â”€ AnimatedBackground.tsx    # Particle effects
  â”‚   â”œâ”€â”€ Header.astro              # Navigation header
  â”‚   â””â”€â”€ Footer.astro              # Page footer
  â”‚
  â”œâ”€â”€ layouts/
  â”‚   â”œâ”€â”€ Layout.astro              # Base layout
  â”‚   â”‚   â€¢ HTML structure
  â”‚   â”‚   â€¢ Global styles
  â”‚   â”‚   â€¢ Meta tags
  â”‚   â”‚
  â”‚   â””â”€â”€ DocsLayout.astro          # Docs layout
  â”‚       â€¢ Sidebar integration
  â”‚       â€¢ TOC generation
  â”‚
  â”œâ”€â”€ pages/                        # Routes
  â”‚   â”œâ”€â”€ index.astro               # Homepage
  â”‚   â”œâ”€â”€ chat.astro                # Chat interface
  â”‚   â””â”€â”€ docs/                     # Documentation
  â”‚       â”œâ”€â”€ index.astro           # Docs home
  â”‚       â”œâ”€â”€ installation.astro    # Installation guide
  â”‚       â””â”€â”€ ...
  â”‚
  â””â”€â”€ styles/
      â”œâ”€â”€ global.css                # Global styles
      â”‚   â€¢ CSS variables
      â”‚   â€¢ Animations
      â”‚   â€¢ Utility classes
      â”‚
      â””â”€â”€ typography.css            # Font styles
  ```

  ### Agent Structure

  ```
  agent/
  â”œâ”€â”€ characters/
  â”‚   â””â”€â”€ clawchan.character.json   # Character definition
  â”‚       â€¢ Personality traits
  â”‚       â€¢ Knowledge domains
  â”‚       â€¢ Response examples
  â”‚       â€¢ Style guidelines
  â”‚
  â”œâ”€â”€ index.ts                      # Runtime entry
  â”‚   â€¢ Load environment
  â”‚   â€¢ Initialize ElizaOS
  â”‚   â€¢ Configure LLM
  â”‚   â€¢ Load plugins
  â”‚   â€¢ Start agent loop
  â”‚
  â””â”€â”€ plugins/                      # Custom plugins
      â””â”€â”€ custom-actions.ts         # Extended actions
  ```

  ## Security Architecture

  ### Multi-Layer Security

  <div class="grid gap-4 sm:grid-cols-2 my-6">
    <div class="bento-card p-5">
      <h4 class="text-cyan-glow mb-3">ğŸ” API Key Management</h4>
      <ul class="text-sm space-y-1">
        <li>Environment variables only</li>
        <li>Never in client-side code</li>
        <li>Rotation policy (90 days)</li>
        <li>Separate dev/prod keys</li>
      </ul>
    </div>

    <div class="bento-card p-5">
      <h4 class="text-cyan-glow mb-3">ğŸ›¡ï¸ Input Validation</h4>
      <ul class="text-sm space-y-1">
        <li>Sanitize user input</li>
        <li>Rate limiting</li>
        <li>Message length limits</li>
        <li>XSS protection</li>
      </ul>
    </div>

    <div class="bento-card p-5">
      <h4 class="text-cyan-glow mb-3">ğŸ”’ Data Encryption</h4>
      <ul class="text-sm space-y-1">
        <li>HTTPS for all traffic</li>
        <li>Encrypted vault storage</li>
        <li>Hashed sensitive data</li>
        <li>Secure WebSocket</li>
      </ul>
    </div>

    <div class="bento-card p-5">
      <h4 class="text-cyan-glow mb-3">ğŸ“‹ Audit Logging</h4>
      <ul class="text-sm space-y-1">
        <li>All API calls logged</li>
        <li>User actions tracked</li>
        <li>Error monitoring</li>
        <li>Security events</li>
      </ul>
    </div>
  </div>

  ## Performance Optimization

  ### Frontend Optimization

  #### 1. Static Site Generation
  - Pre-render pages at build time
  - No server-side rendering overhead
  - CDN-friendly deployment

  #### 2. Code Splitting
  ```javascript
  // Only load terminal when needed
  const ClawChanTerminal = lazy(() => import('./ClawChanTerminal'))
  ```

  #### 3. Asset Optimization
  - Image compression
  - CSS minification
  - JavaScript bundling
  - Font subsetting

  ### Backend Optimization

  #### 1. Connection Pooling
  ```typescript
  const groqClient = new GroqClient({
    apiKey: process.env.GROQ_API_KEY,
    maxConnections: 10,
    keepAlive: true
  })
  ```

  #### 2. Response Caching
  ```typescript
  const cache = new LRUCache({
    max: 100,
    ttl: 1000 * 60 * 5 // 5 minutes
  })

  if (cache.has(query)) {
    return cache.get(query)
  }
  ```

  #### 3. Async Processing
  ```typescript
  // Don't block on archiving
  agent.archive(interaction).catch(err =>
    logger.error('Archive failed:', err)
  )
  ```

  ## Scalability Considerations

  ### Horizontal Scaling

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚        Load Balancer (Nginx)         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚
  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
  â”‚ Agent  â”‚     â”‚ Agent  â”‚
  â”‚   #1   â”‚     â”‚   #2   â”‚
  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚              â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Shared State  â”‚
     â”‚   (Redis)      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  ### Vertical Scaling

  - **CPU**: More cores for parallel LLM requests
  - **Memory**: Larger context windows, more cached responses
  - **Network**: Higher throughput for real-time features

  ## Monitoring & Observability

  ### Metrics to Track

  | Metric | Target | Alert Threshold |
  |--------|--------|-----------------|
  | LLM Response Time | Sub-second | Over 2s |
  | Frontend Load Time | Under 2s | Over 3s |
  | Agent Uptime | 99.9% | Below 99% |
  | Error Rate | Below 0.1% | Over 1% |
  | Memory Usage | Under 1GB | Over 2GB |

  ### Logging Strategy

  <div class="code-block">
    <div class="code-block-header">
      <span class="code-block-lang">TypeScript</span>
      <button class="code-block-copy">Copy</button>
    </div>
    <pre><code>import { elizaLogger } from '@elizaos/core'

// Structured logging
elizaLogger.info('Agent message processed', {
  userId: user.id,
  messageLength: message.length,
  responseTime: latency,
  model: 'llama-3.1-70b',
  cached: false
})

// Error logging with context
elizaLogger.error('Groq API failed', {
  error: err.message,
  statusCode: err.status,
  requestId: req.id,
  retryCount: attempts
})</code></pre>
  </div>

  ## Deployment Architecture

  ### Development

  ```
  Local Machine
  â”œâ”€â”€ Frontend (localhost:1234)
  â”‚   â””â”€â”€ Astro dev server
  â”‚
  â””â”€â”€ Agent (local process)
      â””â”€â”€ Node.js runtime
  ```

  ### Production

  ```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           CDN (Cloudflare)            â”‚
  â”‚        Static Assets Cache            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚        Web Server (Vercel/Netlify)   â”‚
  â”‚         Static Site Hosting          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚       Agent Server (VPS/Cloud)       â”‚
  â”‚    â€¢ Node.js runtime                 â”‚
  â”‚    â€¢ PM2 process manager             â”‚
  â”‚    â€¢ Reverse proxy (Nginx)           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ```

  ## Technology Choices Rationale

  ### Why Astro?
  - âœ… **Performance**: Zero JS by default
  - âœ… **Flexibility**: Use any framework (React, Vue, Svelte)
  - âœ… **SEO**: Static HTML for search engines
  - âœ… **Developer Experience**: Great DX with TypeScript

  ### Why ElizaOS?
  - âœ… **Purpose-built**: Designed for AI agents
  - âœ… **Plugin system**: Easy extensibility
  - âœ… **Character-driven**: Personality configuration
  - âœ… **Community**: Active development

  ### Why Groq?
  - âœ… **Speed**: Sub-second response times
  - âœ… **Cost**: Free tier + competitive pricing
  - âœ… **Quality**: Llama 3.1 70B performance
  - âœ… **Reliability**: Consistent low latency

  ### Why Moltbook?
  - âœ… **Agent-focused**: Built for AI agents
  - âœ… **Archival**: Automatic documentation
  - âœ… **Autonomous**: Support for autonomous agents
  - âœ… **Knowledge base**: Searchable archives

  ## Future Architecture Enhancements

  ### Planned Improvements

  1. **Multi-Agent System**
     - Multiple specialized agents
     - Agent-to-agent communication
     - Coordinated task execution

  2. **Real-time Collaboration**
     - WebSocket connections
     - Live chat with multiple users
     - Collaborative document editing

  3. **Advanced Caching**
     - Redis for distributed cache
     - Edge caching with CDN
     - Intelligent cache invalidation

  4. **Enhanced Security**
     - OAuth2 integration
     - JWT authentication
     - Role-based access control

  ## Next Steps

  <div class="grid gap-4 sm:grid-cols-2 my-8">
    <a href="/docs/agent-development" class="bento-card group p-5 hover:border-warm-gold/50 transition-colors">
      <div class="flex items-center gap-2 mb-3">
        <Icon name="lucide:code-2" class="text-warm-gold size-5" />
        <h3 class="text-base font-semibold mb-0">Agent Development</h3>
      </div>
      <p class="text-sm text-muted-foreground">Learn to customize ClawChan's behavior.</p>
    </a>

    <a href="/docs/frontend-customization" class="bento-card group p-5 hover:border-cyan-glow/50 transition-colors">
      <div class="flex items-center gap-2 mb-3">
        <Icon name="lucide:palette" class="text-cyan-glow size-5" />
        <h3 class="text-base font-semibold mb-0">Frontend Customization</h3>
      </div>
      <p class="text-sm text-muted-foreground">Customize the UI and styling.</p>
    </a>
  </div>

  <div class="callout callout-info">
    <div class="callout-title">
      <Icon name="lucide:lightbulb" class="size-5" />
      Understanding the Architecture
    </div>
    <p class="text-sm">
      This architecture enables ClawChan to be fast, scalable, and maintainable. The separation of concerns allows you to modify the frontend without touching the agent, or vice versa. Each layer can be developed, tested, and deployed independently.
    </p>
  </div>
</DocsLayout>
